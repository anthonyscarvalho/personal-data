<div class="account-records">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-10">
				<form name="form" id="form" #form="ngForm" (ngSubmit)="submit()">
					<div class="row">
						<div class="col-md-4">
							<div class="form-group">
								<select class="form-control" [(ngModel)]="selectedAccount" name="accountsId">
									<option value="">Select</option>
									<option *ngFor="let account of accounts" value="{{account._id}}" [class.bg-success]="account.status == 'open'" [class.bg-danger]="account.status == 'closed'">{{account.accountDescription}} - ({{account.accountNumber}})</option>
								</select>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<button type="button" class="btn btn-info" (click)="processRecords()">Process</button>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								<div class="col-2">
									<div class="form-group"> Total Rows: <br>{{totalCount}} </div>
								</div>
								<div class="col-2">
									<div class="form-group"> Data Rows: <br>{{dataRows}} </div>
								</div>
								<div class="col-2">
									<div class="form-group"> Removed Records: <br>{{(removedRecords)}} </div>
								</div>
								<div class="col-2">
									<div class="form-group"> Recorded Records: <br>{{addedRecords}} </div>
								</div>
								<div class="col-2">
									<div class="form-group"> Existing Records: <br>{{existingRecords}} </div>
								</div>
								<div class="col-2"></div>
							</div>
							<textarea name="csvTextData" [(ngModel)]="csvTextData" rows="10" class="form-control"></textarea>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<table class="table table-striped table-condensed">
								<thead>
									<tr>
										<th style="width: 70px;"></th>
										<th>Statement ID</th>
										<th>Account</th>
										<th>Date 1</th>
										<th>Date 2</th>
										<th>Description</th>
										<th>Amount Out</th>
										<th>Amount In</th>
										<th>Balance</th>
										<th>Service Fee</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let item of accountRecords; let loopIndex = index">
										<td>{{loopIndex}}</td>
										<td>{{item.statementId}}</td>
										<td>{{item.accountsId}}</td>
										<td>{{item.date1}}</td>
										<td>{{item.date2}}</td>
										<td>{{item.description}}</td>
										<td>{{item.credit}}</td>
										<td>{{item.debit}}</td>
										<td>{{item.balance}}</td>
										<td>{{item.serviceFee}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</form>
			</div>
			<div class="col-md-2">
				<app-filter-box [filterBoxOptions]="filterBoxOptions" [filterBoxConfig]="filterBoxConfig" (updater)="submitForm()"></app-filter-box>
			</div>
		</div>
	</div>
</div>
