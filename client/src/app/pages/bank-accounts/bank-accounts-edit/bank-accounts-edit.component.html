<div class="bank-accounts-edit">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-4">
				<div class="card">
					<div class="card-body">
						<h1>Account Information</h1>
						<div class="container">
							<form [formGroup]="bankAccountsAddForm" name="bankAccountsAddForm" id="bankAccountsAddForm" (ngSubmit)="submit()">
								<div class="row">
									<div class="col-md-6 col-sm-12">
										<div class="form-group">
											<label>Account Number</label>
											<input type="text" formControlName="accountNumber" name="accountNumber" class="form-control" [ngClass]="checkClass(f.accountNumber)">
											<app-errors [element]="f.accountNumber" *ngIf="submitted"></app-errors>
										</div>
									</div>
									<div class="col-md-6 col-sm-12">
										<div class="form-group">
											<label>Account Description</label>
											<input type="text" formControlName="accountDescription" name="accountDescription" class="form-control" [ngClass]="checkClass(f.accountDescription)">
											<app-errors [element]="f.accountDescription" *ngIf="submitted"></app-errors>
										</div>
									</div>
									<div class="col-md-6 col-sm-12">
										<div class="form-group">
											<label>Date Opened</label>
											<input type="text" class="form-control" formControlName="dateOpened" name="dateOpened" bsDatepicker [bsConfig]="bsConfig" [ngClass]="checkClass(f.dateOpened)">
											<app-errors [element]="f.dateOpened" *ngIf="submitted"></app-errors>
										</div>
									</div>
									<div class="col-md-6 col-sm-12">
										<div class="form-group">
											<label>Date Closed</label>
											<input type="text" class="form-control" formControlName="dateClosed" name="dateClosed" bsDatepicker [bsConfig]="bsConfig" [ngClass]="checkClass(f.dateClosed)">
											<app-errors [element]="f.dateClosed" *ngIf="submitted"></app-errors>
										</div>
									</div>
									<div class="col-md-6 col-sm-12">
										<div class="form-group">
											<label>CSV Type</label>
											<select class="form-control" formControlName="csvType" name="csvType" [ngClass]="checkClass(f.csvType)">
												<option value="">Please select</option>
												<option value="1">1</option>
												<option value="2">2</option>
												<option value="3">3</option>
												<option value="4">4</option>
												<option value="5">5</option>
											</select>
											<app-errors [element]="f.csvType" *ngIf="submitted"></app-errors>
										</div>
									</div>
									<div class="col-md-6 col-sm-12">
										<div class="form-group">
											<label>Status</label>
											<select formControlName="status" name="status" class="form-control" [ngClass]="checkClass(f.status)">
												<option value="">Select</option>
												<option value="open">Open</option>
												<option value="closed">Closed</option>
											</select>
											<app-errors [element]="f.status" *ngIf="submitted"></app-errors>
										</div>
									</div>
								</div>
							</form>
						</div>
						<div class="text-center navbar__bottom">
							<a class="btn btn-secondary" routerLink="/bank-accounts">
								<fa-icon [icon]="['fas', 'backward']" [fixedWidth]="true"></fa-icon>
							</a>
							<button type="button" class="btn btn-success" (click)="submit()" *ngIf="!submitted">
								<fa-icon [icon]="['fas', 'save']" [fixedWidth]="true"></fa-icon>
							</button>
							<span class="btn btn-info" *ngIf="submitted">
								<fa-icon [icon]="['fas', 'spinner']" [fixedWidth]="true" [spin]="true"></fa-icon>
							</span>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-body">
						<h1>Account Totals</h1>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Total Account Records</label>
									<div>{{filterBoxOptions.totalRecords}}</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Total Account Pages</label>
									<div>{{bankAccountRecordsPages}}</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Monthly Income</label>
									<div></div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Monthly Expense</label>
									<div></div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Total Income</label>
									<div></div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Total Expense</label>
									<div></div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Account Balance</label>
									<div></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-8">
				<div class="card" *ngIf="bankAccountRecords">
					<div class="card-body">
						<div class="row">
							<div class="col-md-10">
								<h1>Account Records</h1>
							</div>
							<div class="col-md-2 text-right">
								<button type="button" class="btn btn-secondary btn-sm" (click)="addNewRecords()">
									<fa-icon [icon]="['fas', 'plus']" [fixedWidth]="true"></fa-icon>
								</button>
								<button type="button" class="btn btn-info btn-sm" (click)="loadRecords()">
									<fa-icon [icon]="['fas', 'sync-alt']" [fixedWidth]="true"></fa-icon>
								</button>
							</div>
						</div>
						<pagination [totalItems]="filterBoxOptions.totalRecords" [(ngModel)]="filterBoxOptions.page" (pageChanged)="updatePage($event)" [maxSize]="9" [boundaryLinks]="true" previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;" [itemsPerPage]="filterBoxOptions.pagerRecords"></pagination>
						<div class="clearfix">&nbsp;</div>
						<table>
							<thead>
								<tr>
									<th width="130">Statement ID</th>
									<th width="110">Date 1</th>
									<th width="110">Date 2</th>
									<th>Description</th>
									<th width="120">Credit</th>
									<th width="120">Debit</th>
									<th width="120">Balance</th>
									<th style="width: 40px;"></th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let item of bankAccountRecords; let loopIndex = index">
									<td>{{item.statementId}}</td>
									<td>{{item.date1}}</td>
									<td>{{item.date2}}</td>
									<td>{{item.description}}</td>
									<td>{{item.credit}}</td>
									<td>{{item.debit}}</td>
									<td>{{item.balance}}</td>
									<td>
										<button type="button" class="btn btn-info btn-sm" (click)="editAccountRecord()">
											<fa-icon [icon]="['fas', 'edit']" [fixedWidth]="true"></fa-icon>
										</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
