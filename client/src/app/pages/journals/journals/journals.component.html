<div class="container-fluid" *ngIf="results">
	<div class="row">
		<div class="col-md-10">
			<form name="form" id="form" #form="ngForm" (ngSubmit)="submit()">
				<div class="row">
					<div class="col-md-6 col-sm-12">
						<div class="form-group">
							<label>Account Name</label>
							<input type="text" name="accountName" [(ngModel)]="results.accountName" class="form-control">
						</div>
					</div>
					<div class="col-md-6 col-sm-12">
						<div class="form-group">
							<label>Account Number</label>
							<input type="text" name="accountNumber" [(ngModel)]="results.accountNumber" class="form-control">
						</div>
					</div>
					<div class="col-md-6 col-sm-12">
						<div class="form-group">
							<label>Status</label>
							<select name="status" [(ngModel)]="results.status" class="form-control">
								<option value="">Select</option>
								<option value="open">Open</option>
								<option value="closed">Closed</option>
							</select>
						</div>
					</div>
					<div class="col-md-6 col-sm-12">
						<div class="form-group">
							<label>Search Params</label>
							<textarea class="form-control" rows="4" name="searchParams" [(ngModel)]="results.searchParams" data-role="tagsinput"></textarea>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-4">
						<div class="form-group">
							<button type="button" class="btn btn-info" (click)="findJournalEntries()">Find Records</button>
						</div>
					</div>
					<div class="col-md-4">
						<div class="form-group">
							<button type="button" class="btn btn-info" (click)="saveJournalEntries()">Save Records</button>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<table class="table table-striped table-condensed">
							<thead>
								<tr>
									<th style="width: 70px;"></th>
									<th>Journal Id</th>
									<th>Accounts ID</th>
									<th>Date</th>
									<th>Description</th>
									<th>Credit</th>
									<th>Debit</th>
									<th style="width: 40px;"></th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let item of journalEntries; let loopIndex = index">
									<td>{{loopIndex + 1}}</td>
									<td>{{item.journalId}}</td>
									<td>{{item.accountRecordId}}</td>
									<td>{{item.date}}</td>
									<td>{{item.description}}</td>
									<td>{{item.credit}}</td>
									<td>{{item.debit}}</td>
									<td>
										<span class="badge badge-danger" *ngIf="item.processed == 'false'">&nbsp;</span>
										<span class="badge badge-success" *ngIf="item.processed == 'true'">&nbsp;</span>
										<span class="badge badge-info" *ngIf="item.processed == 'exists'">&nbsp;</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</form>
		</div>
		<div class="col-md-2">
			<app-filter-box [filterBoxOptions]="filterBoxOptions" [filterBoxConfig]="filterBoxConfig" (updater)="submitForm()"></app-filter-box>
		</div>
	</div>
</div>
