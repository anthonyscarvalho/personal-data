<div class="page">
	<div class="page__left">
		<app-side-menu [menuItems]="megaMenu"></app-side-menu>
	</div>
	<div class="page__container">
		<div class="bank-accounts-edit">
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-4 col-sm-12">
						<div class="card">
							<div class="card-body">
								<h1>Account Information</h1>
								<div class="clearfix">&nbsp;</div>
								<form name="resultRecord" id="resultRecord" (ngSubmit)="submit()" *ngIf="resultRecord">
									<div class="row">
										<div class="col-md-6 col-sm-12">
											<app-inputs [inputValue]="resultRecord.accountNumber" (updater)="updateValue($event, 'accountNumber')" [inputType]="'text'" [submitted]="submitted" [inputLabel]="'Account Number'"></app-inputs>
										</div>
										<div class="col-md-6 col-sm-12">
											<app-inputs [inputValue]="resultRecord.accountDescription" (updater)="updateValue($event, 'accountDescription')" [inputType]="'text'" [submitted]="submitted" [inputLabel]="'Account Description'"></app-inputs>
										</div>
										<div class="col-md-6 col-sm-12">
											<app-inputs [inputValue]="resultRecord.dateOpened" (updater)="updateValue($event, 'dateOpened')" [inputType]="'date'" [submitted]="submitted" [inputLabel]="'Date Opened'"></app-inputs>
										</div>
										<div class="col-md-6 col-sm-12">
											<app-inputs [inputValue]="resultRecord.dateClosed" (updater)="updateValue($event, 'dateClosed')" [inputType]="'date'" [submitted]="submitted" [inputLabel]="'Date Closed'"></app-inputs>
										</div>
										<div class="col-md-6 col-sm-12">
											<app-inputs [inputValue]="resultRecord.csvType" (updater)="updateValue($event, 'csvType')" [inputType]="'select'" [submitted]="submitted" [inputLabel]="csvTypes.label" [selectOptions]="csvTypes.options"></app-inputs>
										</div>
										<div class="col-md-6 col-sm-12">
											<app-inputs [inputValue]="resultRecord.status" (updater)="updateValue($event, 'status')" [inputType]="'select'" [submitted]="submitted" [inputLabel]="recordStatuses.label" [selectOptions]="recordStatuses.options"></app-inputs>
										</div>
									</div>
								</form>
								<div class="text-center">
									<div class="row">
										<div class="col-md-3">
											<a class="btn btn-secondary" [routerLink]="['/bank-accounts','accounts','view']">
												<fa-icon [icon]="['fas', 'backward']" [fixedWidth]="true"></fa-icon>
											</a>
										</div>
										<div class="col-md-3">
											<button type="button" class="btn btn-info" (click)="addTransactions()" *ngIf="!add">
												<fa-icon [icon]="['fas', 'plus']" [fixedWidth]="true"></fa-icon> Trans
											</button>
										</div>
										<div class="col-md-3">
											<button type="button" class="btn btn-success" (click)="submit()" *ngIf="!submitted">
												<fa-icon [icon]="['fas', 'save']" [fixedWidth]="true"></fa-icon>
											</button>
											<span class="btn btn-info" *ngIf="submitted">
												<fa-icon [icon]="['fas', 'spinner']" [fixedWidth]="true" [spin]="true"></fa-icon>
											</span>
										</div>
										<div class="col-md-3">
											<button type="button" class="btn btn-danger" (click)="loadSum()" *ngIf="!submitted">
												<fa-icon [icon]="['fas', 'sync']" [fixedWidth]="true"></fa-icon>
											</button>
											<span class="btn btn-info" *ngIf="submitted">
												<fa-icon [icon]="['fas', 'spinner']" [fixedWidth]="true" [spin]="true"></fa-icon>
											</span>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="clearfix">&nbsp;</div>
						<div class="card" *ngIf="accountDetails">
							<div class="card-body">
								<div class="row text-center">
									<div class="col-md-4">
										<div>Credits</div>
										<div>R {{formatNumbers(accountDetails.totalCredit)}}</div>
									</div>
									<div class="col-md-4">
										<div>Debits</div>
										<div>R {{formatNumbers(accountDetails.totalDebit)}}</div>
									</div>
									<div class="col-md-4">
										<div>Balance</div>
										<div>R {{formatNumbers(accountDetails.balance)}}</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-8 col-sm-12" *ngIf="!add">
						<app-bar-view-account accountId="{{parentId}}" accountNumber="{{accountNumber}}" csvType="{{csvType}}" (updater)="loadSum()"></app-bar-view-account>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
